<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>REGISTRATION</title>
</head>
<body>
<h1>MAC FACILITY SYSTEM</h1>
<h2>Registration</h2>
<div th:if="${successMessage}">
    <h3 th:text="${successMessage}"></h3><br>
</div>
<form action = "#" th:action="@{/register}" th:object="${user}" method="POST">
    <label for="firstname">First name:</label>
    <input name="firstname" id="firstname" type="text" th:field="*{firstname}" placeholder="Firstname" autofocus>
    <span th:if="${#fields.hasErrors('firstname')}" th:errors="*{firstname}">First name Error</span><br>
    
    <label for="lastname">Last name:</label> 
    <input name="lastname" id="lastname" type="text" th:field="*{lastname}" placeholder="Lastname">
    <span th:if="${#fields.hasErrors('lastname')}" th:errors="*{lastname}">Last name Error</span><br>
    
    <label for="email">Email:</label> 
    <input name="email" id="email" type="text" th:field="*{email}" placeholder="Email">
    <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Email Error</span><br>
    
    <label for="role">Role:</label> 
    <select th:field="*{role}" name="role" id="role">
    	<option value="" disabled selected>Select Role</option>
        <option value = "user">User</option>
        <option value = "facility_manager">Facility Manager</option>
        <option value = "admin">Admin</option>
        <option value = "repairer">Repairer</option>
    </select>
    <span th:if="${#fields.hasErrors('role')}" th:errors="*{role}">Role Error</span><br>
    
    <label for="username">Username:</label> 
    <input name="username" id="username" type="text" th:field="*{username}" placeholder="Username">
    <span th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Username Error</span><br>
    
    <label for="password">Password:</label>
    <input type="password" th:field="*{password}" name="password" id="password" placeholder="Password">
    <span th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password Error</span><br>
    
    <button type="submit">Register</button>
</form>
<p><a th:href = "@{/login}" >Log In</a></p>
</body>
</html>